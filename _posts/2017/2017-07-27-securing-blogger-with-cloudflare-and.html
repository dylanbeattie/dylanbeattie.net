---
layout: post
title: Securing Blogger with CloudFlare and HTTPS
date: '2017-07-27T14:57:00.000+01:00'
author: Dylan Beattie
tags: 
modified_time: '2017-07-27T23:30:03.613+01:00'
thumbnail: https://lh3.googleusercontent.com/-kNbpjf8jrLc/WXppXsTpwJI/AAAAAAAAEgk/z7K-YZV0y1UDXIhycOB1W6NuUDQz5ehWQCHMYCw/s72-c/image_thumb%255B2%255D?imgmax=800
blogger_id: tag:blogger.com,1999:blog-7295454224203070190.post-433837738681166876
blogger_orig_url: http://www.dylanbeattie.net/2017/07/securing-blogger-with-cloudflare-and.html
---

<p>As you may have read, <a href="https://www.troyhunt.com/life-is-about-to-get-harder-for-websites-without-https/">life is about to get a whole lot harder for websites without HTTPS</a>. Now this site is hosted on Blogger – I used to run my own <a href="https://www.movabletype.org/">MovableType</a> server, but I realised I was spending way more time messing around with the software than I was actually writing blog posts, so I shifted the whole thing across to Blogger about a decade ago and never really looked back.</p><p>One of the limitations of Blogger is that it doesn’t support HTTPS if you’re using custom domains – there’s no way to install your own certificate or anything. So, since Chrome’s about to crank up the warnings for any websites that don’t use HTTPS, I figured I ought to set something up. Enter CloudFlare, who are really rather splendid. </p><p>First, you sign up. (bonus points for them NOT forcing you to choose a password that contains a lowercase letter, an uppercase letter, a number, a special character, the poo emoji and the Mongolian vowel separator). </p><p>Second, you tell them which domain you want to protect:</p><p><a href="https://lh3.googleusercontent.com/-MV4JbPREXA8/WXppWR1dg5I/AAAAAAAAEgg/iQI5I0kBL9oSiHjdO741ZFEb-Y85EEfegCHMYCw/s1600-h/image%255B4%255D"><img width="1024" height="484" title="image" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-kNbpjf8jrLc/WXppXsTpwJI/AAAAAAAAEgk/z7K-YZV0y1UDXIhycOB1W6NuUDQz5ehWQCHMYCw/image_thumb%255B2%255D?imgmax=800" border="0"></a></p><p>They scan all your DNS records, which takes about a minute – and not only is there a nice real-time progress bar keeping you in the loop, they use this opportunity to play a really short video explaining what's going on. I think this is absolute genius.</p><p><a href="https://lh3.googleusercontent.com/-w2f8kueDXSs/WXppX8ri8aI/AAAAAAAAEgo/QXEMjJojtBYkFKmKzAYeO2BKD1BN5cT0ACHMYCw/s1600-h/image%255B9%255D"><img width="1024" height="636" title="image" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-n4synUqxa04/WXppYRjNI6I/AAAAAAAAEgs/ERVHKFGsREsTjv3C5Q3SnXDZOR34-4WcwCHMYCw/image_thumb%255B5%255D?imgmax=800" border="0"></a></p><p>Finally, after checking it's picked up all your DNS records properly (it had), you tell your domain registrar to update the nameservers for your domain to CloudFlare's DNS servers, give it up to 24 hours, and you're done. Zero downtime, zero service interruption – the whole thing was smooth, simple, and completely free-as-in-beer. </p><p><strong>Yes, I realise this does not encrypt content end-to-end. For what we're doing here, this is absolutely fine. It'll secure your traffic against dodgy hotel wi-fi and unscrupulous internet service providers - and if anyone's genuinely intercepting HTTP traffic between CloudFlare and Google, I'm sure they can think of more exciting things to do with it than mess around with my blog posts.</strong> </p><p>Having done that, I then had to use the Google Chrome console to track down the resources – photos and the odd bit of script – that were being hosted via HTTP, and update them to be HTTPS. The only thing I couldn't work out how to fix was the search bar that's embedded in Blogger's default page layout – it's injected by JavaScript, it's hosted by Google's CDN (so I can't use any of CloudFlare's clever rewriting tricks to fix it), it's stuck inside an IFRAME, and it points to <a href="http://www.dylanbeattie.net/search">http://www.dylanbeattie.net/search</a> – see the plain HTTP with no S?</p><p><a href="https://lh3.googleusercontent.com/-ThkJ38fthrw/WXppYwtxBpI/AAAAAAAAEgw/_FLv4Z_clIUxjJHRqbiEJBVEMsI7l_p0wCHMYCw/s1600-h/image%255B14%255D"><img width="1024" height="436" title="image" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/--xvNlX5HcGA/WXppZpP0l6I/AAAAAAAAEg0/_2rm2rQyLXwM4ub3Z3ApjdKe17p1LovLwCHMYCw/image_thumb%255B8%255D?imgmax=800" border="0"></a></p><p>After an hour or so of messing around with CSS, I gave up, <a href="https://webmasters.stackexchange.com/questions/108172/how-can-i-force-bloggers-search-widget-to-use-https/">posted a question</a> on the ProWebmasters Stack Exchange, and – of course, immediately found the solution; go into Blogger, Layout, find the Navbar gadget, click Edit, and there's an option to switch the nav off entirely.</p><p>So there you go. Thanks to CloudFlare, <a href="https://www.dylanbeattie.net/">https://www.dylanbeattie.net/</a> now has a green padlock on it. <a href="http://www.imdb.com/character/ch0003525/quotes">I don't know about you, but I take comfort in that</a>. </p><p><a href="https://lh3.googleusercontent.com/--SaMNEOOq4A/WXppaGHpSJI/AAAAAAAAEg4/8b8PY3Juztc_xQaz0FyX0WvQSo_SbWcRgCHMYCw/s1600-h/image%255B22%255D"><img width="867" height="53" title="image" style="border: 0px currentcolor; border-image: none; display: inline; background-image: none;" alt="image" src="https://lh3.googleusercontent.com/-Sm-7gXdGENg/WXppasqzfoI/AAAAAAAAEg8/BZUfYyET5yEPOjJgO_XdM9Ec6Ghl60G-gCHMYCw/image_thumb%255B14%255D?imgmax=800" border="0"></a></p>